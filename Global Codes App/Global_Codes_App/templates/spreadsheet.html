{% extends "layout.html" %}

{% block customstyle %}
<link rel="stylesheet" media="screen" href="static/vendor/handsontable/dist/handsontable.full.css">
<style>
    
    /*.handsontable col.rowHeader {
    width: 120px;
    text-align:left;
    }*/

    .filter-list {
        list-style-type: none;
        list-style:none;
        padding-left:0px;
        margin-left: 0px;
    }

    .panel-actions {
      margin-top: -20px;
      margin-bottom: 0;
      text-align: right;
    }
    .panel-actions a {
      color:#333;
    }

    .spreadsheet-inpanel {
        width: 100%;
        height: 500px;
        overflow: hidden;
    }

    .panel-fullscreen {
        /*display: block;
        z-index: 9999;
        position: fixed;*/
        width: 100%;
        height: 100%;
        top: 0;
        right: 0;
        left: 0;
        bottom: 0;
        /*overflow: auto;*/

        color: #6a6c6f;
        font-family: "Open Sans","Helvetica Neue",Helvetica,Arial,sans-serif;
        font-size: 13px;

    }

    #number_results_returned {
        margin-left: 10px;
    }


</style>
{% endblock %}

{% block content %}

<div id="spreadsheet_title" class="normalheader transition animated fadeIn">
    <div class="hpanel">
        <div class="panel-body">
            <i class="pe-7s-keypad pe-4x pull-right"></i>
            <a class="small-header-action" href="">
                <div class="clip-header">
                    <i class="fa fa-arrow-up"></i>
                </div>
            </a>

            <h2 class="font-light m-b-xs">
                Global Codes <span class="text-success">Spreadsheet</span>
            </h2>
            <small>Client editor for global codes for all systems. Click a global code below to see the details.</small>
        </div>
    </div>
</div>


<div id="spreadsheet_title_warning" class="normalheader transition animated fadeIn">
    <div class="hpanel">
        <div class="panel-body">
            
            <a class="small-header-action" href="">
                <div class="clip-header">
                    <i class="fa fa-arrow-up"></i>
                    <a class="closebox"><i class="fa fa-times"></i></a>
                </div>
            </a>

            <div class="col-lg-1">
                <i class="fa fa-exclamation-triangle fa-5x text-danger"></i>
            </div>

            <div class="col-lg-11">
                <h2 class="font-light m-b-xs">
                    Warning!
                </h2>
                <small>
                    This module is still in development. Do not delete rows or columns as it will mess with the data model.<br />
                    Also, only freeze the first column (global codes).
                    Anything else will cause an error when you try to make changes as the position of the global codes column will have changed.
                    Copy and paste does not update the datbase yet.
                </small>
            </div>
        </div>
    </div>
</div>




<!--<div id="global_code_editor_main" class="content animate-panel" data-effect="fadeIn">-->
<div id="global_code_editor_main" class="content animate-panel">

<!--Filtering panel-->
<div id="global_code_filter_panel" class="row">
    <div class="col-lg-8 col-md-9 col-sm-9">
        <div class="hpanel">
            <div class="panel-heading">
                <div class="panel-tools"><a class="showhide"><i class="fa fa-chevron-up"></i></a></div>
                Filters
            </div>
            <div class="panel-body">
                
                <div class="row">
                    <ul id="filter-list-ul" class="filter-list">

                    </ul>
                </div>

                <div class="row">
                    <div class="col-lg-4">
                        <button id="global_spreadsheet_refresh" class="btn btn-success">Refresh</button>
                        <span id="number_results_returned"></span>
                    </div>
                    <div class="col-lg-8"></div>
                </div>

            </div>
        </div>
    </div>
    <div class="col-lg-4 col-md-3 col-sm-3">

    </div>
</div>


<!--Global code spreadsheet-->
<div id="global_code_table" class="hpanel">
    <div class="panel-heading">
        <a href="#" id="panel_fullscreen_icon" class="pull-right" role="button" title="Toggle fullscreen">
            <i class="pe pe-7s-expand1 pe-2x"></i>
        </a>
        <span id="spreadsheet_header_text">Global Codes</span>
    </div>
    <div class="panel-body">
        <div id="spreadsheet" class="spreadsheet-inpanel"></div>
    </div>
</div>


</div><!-- Main Panel Closing tag -->


{% endblock %}

{% block scripts %}
<script src="static/scripts/spreadsheet.js"></script>
<script src="static/vendor/handsontable/dist/handsontable.full.js"></script>
{% endblock %}