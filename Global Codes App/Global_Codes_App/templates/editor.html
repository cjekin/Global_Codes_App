{% extends "layout.html" %}

{% block content %}

<div class="normalheader transition animated fadeIn">
    <div class="hpanel">
        <div class="panel-body">
            <i class="pe-7s-global fa-4x pull-right"></i>
            <a class="small-header-action" href="">
                <div class="clip-header">
                    <i class="fa fa-arrow-up"></i>
                </div>
            </a>

            <h2 class="font-light m-b-xs">
                Global Codes Mapper
            </h2>
            <small>Client editor for global codes for all systems. Select your system below and click a library code to begin.</small>
        </div>
    </div>
</div>

<div id="data_preload_splash" class="normalheader transition animated fadeIn">
    <div class="hpanel">
        <div class="panel-body">
            <span class="pull-left m-r"><img src="/static/images/loading_circle.gif" /></span>
            <h2 class="font-light m-b-xs m-l">
                Preloading data...
            </h2>
        </div>
    </div>
</div>


<!--<div id="global_code_editor_main" class="content animate-panel" data-effect="fadeIn">-->
<div id="global_code_editor_main" class="content animate-panel">


<!--Library Code Search-->
<div class="row">
    <!-- Library Search Panel -->
    <div class="col-lg-3 col-md-3">
        <div class="hpanel">
            <div class="panel-body">
                <div class="form">
                    System: 
                    <select id="tlc_search_system" class="form-control input-sm m-b">
                        <option>CROM_ALL_DW</option>
                        <option>WSL_ALL_DW</option>
                        <option>EAL_BHI_DW</option>
                    </select>
                    Section: 
                    <select id="tlc_search_section" class="form-control input-sm m-b">
                        <option>A - HAEMATOLOGY</option>
                        <option>B - BIOCHEMISTRY</option>
                        <option>C - COAGULATION</option>
                    </select>
                    <div class="checkbox m-b">
                        <label><input id="tlc_search_primary" type="checkbox" value="">Primary Codes</label>
                    </div>
                    <div class="checkbox m-b">
                        <label><input id="tlc_search_unmapped" type="checkbox" value="">Unmapped</label>
                    </div>
                    <button id="tlc_search_submit" type="submit" class="btn btn-success m-b">Refresh</button>
                </div>
            </div>
        </div>

        
        <!--Widget showing mapping stats-->
        <div class="hpanel stats">
            <div class="panel-body h-200">
                <div class="stats-title pull-left">
                    <h4>SYSTEM OVERVIEW</h4>
                </div>
                <div class="m-t-xl">
                    <h3 id="system-overview-total" class="m-b-xs">2313 total</h3>
                    <span id="system-overview-total-percent" class="font-bold no-margins">
                        Percent mapped (83%)
                    </span>

                    <div class="progress m-t-xs full progress-small">
                        <div id="system-overview-total-progress" style="width: 90%" aria-valuemax="100" aria-valuemin="0" aria-valuenow="55"
                                role="progressbar" class="progress-bar progress-bar-success">
                            <span class="sr-only">90% Complete (success)</span>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-xs-6">
                            <small class="stats-label">Codes in section</small>
                            <h4><span id="system-overview-codesinsection">735</span></h4>
                        </div>

                        <div class="col-xs-6">
                            <small class="stats-label">Codes mapped</small>
                            <h4 id="system-overview-codesmapped">  634  </h4>
                        </div>
                    </div>
                </div>
            </div>
            <div class="panel-footer">
                Listing is for TFCs. Rest of mapping is in TLCs.
            </div>
        </div>
    </div> <!-- End of col -->


    <!-- Library codes detail panel -->
    <div class="col-lg-9 col-md-9">
        <div class="hpanel">
            <div class="panel-heading hbuilt">
                <b>Library Codes</b> | <span id="library-code-header">CROM_ALL_DW</span>
                <div class="panel-tools pull-right">
                    <a class="showhide"><i class="fa fa-chevron-up"></i></a>
                    <a class="closebox"><i class="fa fa-times"></i></a>
                </div>
            </div>
            <div class="panel-body">
                <table id="library_code_datatable" class="table table-striped table-bordered table-hover">
                    <thead>
                        <tr>
                            <th></th>
                            <th>TLC</th>
                            <th>Name</th>
                            <th>Type</th>
                        </tr>
                    </thead>

                </table>
            </div>
        </div>
    </div>
</div> <!--Close library code row-->


<!-- Format code detail -->
<div class="hpanel">
    <div class="panel-heading">
        <div id="tlc-detail-header" class="h3">
            TLC - NAME OF THE TLC - TYPE
        </div>
    </div>
    <div class="panel-body">
        <div class="table-responsive">
        <table cellpadding="1" cellspacing="1" class="table" id="tlc-detail-table">
            
        </table>
        </div>
    </div>
</div>




<!--Global code search-->
<div class="hpanel">
    <div class="panel-heading">
        <div class="panel-tools">
            <a class="showhide"><i class="fa fa-chevron-up"></i></a>
            <a class="closebox"><i class="fa fa-times"></i></a>
        </div>
        Global Codes
    </div>
    <div class="panel-body">
        <table id="global_code_datatable" class="table table-striped table-bordered table-hover">
        <thead>
        <tr>
            <th>Global</th>
            <th>Global Description</th>
            <th>Sample</th>
            <th>Type</th>
            <th>Analyte</th>
            <th>Primary Library</th>
            <th>Sub section</th>
            <th>Department</th>
        </tr>
        </thead>

        <tbody>
                       
        </tbody>
        </table>
    </div>
</div>
   
</div><!-- Main Panel Closing tag -->

{% endblock %}

{% block scripts %}
<script src="static/scripts/editor.js"></script>
{% endblock %}