{% extends "layout.html" %}

{% block content %}

<div class="normalheader transition animated fadeIn">
    <div class="hpanel">
        <div class="panel-body">
            <i class="pe-7s-global fa-4x pull-right"></i>
            <a class="small-header-action" href="">
                <div class="clip-header">
                    <i class="fa fa-arrow-up"></i>
                </div>
            </a>

            <h2 class="font-light m-b-xs">
                Global Codes Editor
            </h2>
            <small>Client editor for global codes for all systems. Click a global code below to see the details.</small>
        </div>
    </div>
</div>


<!--<div id="global_code_editor_main" class="content animate-panel" data-effect="fadeIn">-->
<div id="global_code_editor_main" class="content animate-panel">


<!--Global code editor-->
<div class="row">
    <div class="col-lg-3 col-md-3">
        <div class="hpanel">
            <div class="panel-heading">
                <div class="panel-tools">
                    <a class="showhide"><i class="fa fa-chevron-up"></i></a>
                </div>
                Filters
            </div>
            <div class="panel-body">
                <div class="form">
                    <div class="form-group">
                        <label for="global_dept_filter">Name</label>
                        <select id="global_dept_filter" class="form-control input-sm">
                            <option>All</option>
                            <option>Haematology</option>
                            <option>Chemistry</option>
                        </select>
                    </div>
                    <button id="global_dept_filter_button" class="btn btn-success">Refresh</button>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-9 col-md-9">

    </div>
</div>

<!--Global code editor-->
<div class="hpanel">
    <div class="panel-heading">
        <div class="panel-tools">
            <a class="showhide"><i class="fa fa-chevron-up"></i></a>
        </div>
        Global Codes
    </div>
    <div class="panel-body">
        <table id="global_code_datatable" class="table table-striped table-bordered table-hover" style="white-space:nowrap;">

        </table>
    </div>
</div>


<!--Global code detail-->
<div class="hpanel">
    <div class="panel-body">
        <button id="global_delete_button" class="btn btn-danger pull-right m-r-xs">Delete</button>
        <button id="global_edit_button" class="btn btn-success pull-right m-r-xs">Edit</button>
        <button id="global_new_button" class="btn btn-success pull-right m-r-xs">New</button>
        <h2 class="font-light">
            Global Code Detail: <span id="global_header_code" class="text-success"></span>
        </h2>
    </div>
</div>

<div class="row">
    <!--Key information-->
    <div class="col-lg-6">
        <div class="hpanel">
            <div class="panel-heading">
                <div class="panel-tools">
                    <a class="showhide"><i class="fa fa-chevron-up"></i></a>
                </div>
                Code Details
            </div>

            <div class="panel-body">
            <form id="global_info" method="get" class="form-horizontal">

            </form>
            </div>
        </div>
    </div>

    <!--Audit trail-->
    <div class="col-lg-6">
        <div class="hpanel">
            <div class="panel-heading">
                <div class="panel-tools">
                    <a class="showhide"><i class="fa fa-chevron-up"></i></a>
                </div>
                Audit trail
            </div>
            <div class="panel-body list">
                <div class="table-responsive project-list">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>Event</th>
                                <th>System</th>
                                <th>User</th>
                            </tr>
                        </thead>

                        <tbody id="global_audit">

                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

<!--Mapping of global-->
<div class="hpanel">
    <div class="panel-heading">
        <div class="panel-tools">
            <a class="showhide"><i class="fa fa-chevron-up"></i></a>
        </div>
        Mapping to Winpath
    </div>
    <div class="panel-body list">
        <div class="table-responsive project-list">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>Origin</th>
                        <th>TFC</th>
                        <th>Description</th>
                        <th>Most common result</th>
                        <th>Units</th>
                        <th>Num last year</th>
                        <th>Last seen</th>
                        <th>Global</th>
                        <th>Excluded</th>
                        <th></th>
                        <th></th>
                    </tr>
                </thead>

                <tbody id="global_tfc_mapping">
                    <tr>
                        <td>CROM_ALL_DW</td>
                        <td>NA</td>
                        <td>Sodium</td>
                        <td>145</td>
                        <td>umol/L</td>
                        <td>12987</td>
                        <td>12/10/2015</td>
                        <td>BC_UE_NA</td>
                        <td></td>
                        <td><button class="btn btn-danger btn-xs global_tfc_mapping_del">DEL</button></td>
                        <td><button class="btn btn-success btn-xs global_tfc_mapping_edit">EDIT</button></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
    
   

</div><!-- Main Panel Closing tag -->


{% endblock %}

{% block scripts %}
<script src="static/scripts/globaleditor.js"></script>
{% endblock %}